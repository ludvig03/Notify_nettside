{"ast":null,"code":"import { ImageUtils } from '../extras/ImageUtils.js';\nimport * as MathUtils from '../math/MathUtils.js';\n\nclass Source {\n  constructor() {\n    let data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n    this.isSource = true;\n    this.uuid = MathUtils.generateUUID();\n    this.data = data;\n    this.version = 0;\n  }\n\n  set needsUpdate(value) {\n    if (value === true) this.version++;\n  }\n\n  toJSON(meta) {\n    const isRootObject = meta === undefined || typeof meta === 'string';\n\n    if (!isRootObject && meta.images[this.uuid] !== undefined) {\n      return meta.images[this.uuid];\n    }\n\n    const output = {\n      uuid: this.uuid,\n      url: ''\n    };\n    const data = this.data;\n\n    if (data !== null) {\n      let url;\n\n      if (Array.isArray(data)) {\n        // cube texture\n        url = [];\n\n        for (let i = 0, l = data.length; i < l; i++) {\n          if (data[i].isDataTexture) {\n            url.push(serializeImage(data[i].image));\n          } else {\n            url.push(serializeImage(data[i]));\n          }\n        }\n      } else {\n        // texture\n        url = serializeImage(data);\n      }\n\n      output.url = url;\n    }\n\n    if (!isRootObject) {\n      meta.images[this.uuid] = output;\n    }\n\n    return output;\n  }\n\n}\n\nfunction serializeImage(image) {\n  if (typeof HTMLImageElement !== 'undefined' && image instanceof HTMLImageElement || typeof HTMLCanvasElement !== 'undefined' && image instanceof HTMLCanvasElement || typeof ImageBitmap !== 'undefined' && image instanceof ImageBitmap) {\n    // default images\n    return ImageUtils.getDataURL(image);\n  } else {\n    if (image.data) {\n      // images of DataTexture\n      return {\n        data: Array.from(image.data),\n        width: image.width,\n        height: image.height,\n        type: image.data.constructor.name\n      };\n    } else {\n      console.warn('THREE.Texture: Unable to serialize Texture.');\n      return {};\n    }\n  }\n}\n\nexport { Source };","map":{"version":3,"names":["ImageUtils","MathUtils","Source","constructor","data","isSource","uuid","generateUUID","version","needsUpdate","value","toJSON","meta","isRootObject","undefined","images","output","url","Array","isArray","i","l","length","isDataTexture","push","serializeImage","image","HTMLImageElement","HTMLCanvasElement","ImageBitmap","getDataURL","from","width","height","type","name","console","warn"],"sources":["/Users/ludvigbergsaker/Documents/Notify/notify_custom/notify_custom/node_modules/three/src/textures/Source.js"],"sourcesContent":["import { ImageUtils } from '../extras/ImageUtils.js';\nimport * as MathUtils from '../math/MathUtils.js';\n\nclass Source {\n\n\tconstructor( data = null ) {\n\n\t\tthis.isSource = true;\n\n\t\tthis.uuid = MathUtils.generateUUID();\n\n\t\tthis.data = data;\n\n\t\tthis.version = 0;\n\n\t}\n\n\tset needsUpdate( value ) {\n\n\t\tif ( value === true ) this.version ++;\n\n\t}\n\n\ttoJSON( meta ) {\n\n\t\tconst isRootObject = ( meta === undefined || typeof meta === 'string' );\n\n\t\tif ( ! isRootObject && meta.images[ this.uuid ] !== undefined ) {\n\n\t\t\treturn meta.images[ this.uuid ];\n\n\t\t}\n\n\t\tconst output = {\n\t\t\tuuid: this.uuid,\n\t\t\turl: ''\n\t\t};\n\n\t\tconst data = this.data;\n\n\t\tif ( data !== null ) {\n\n\t\t\tlet url;\n\n\t\t\tif ( Array.isArray( data ) ) {\n\n\t\t\t\t// cube texture\n\n\t\t\t\turl = [];\n\n\t\t\t\tfor ( let i = 0, l = data.length; i < l; i ++ ) {\n\n\t\t\t\t\tif ( data[ i ].isDataTexture ) {\n\n\t\t\t\t\t\turl.push( serializeImage( data[ i ].image ) );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\turl.push( serializeImage( data[ i ] ) );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t// texture\n\n\t\t\t\turl = serializeImage( data );\n\n\t\t\t}\n\n\t\t\toutput.url = url;\n\n\t\t}\n\n\t\tif ( ! isRootObject ) {\n\n\t\t\tmeta.images[ this.uuid ] = output;\n\n\t\t}\n\n\t\treturn output;\n\n\t}\n\n}\n\nfunction serializeImage( image ) {\n\n\tif ( ( typeof HTMLImageElement !== 'undefined' && image instanceof HTMLImageElement ) ||\n\t\t( typeof HTMLCanvasElement !== 'undefined' && image instanceof HTMLCanvasElement ) ||\n\t\t( typeof ImageBitmap !== 'undefined' && image instanceof ImageBitmap ) ) {\n\n\t\t// default images\n\n\t\treturn ImageUtils.getDataURL( image );\n\n\t} else {\n\n\t\tif ( image.data ) {\n\n\t\t\t// images of DataTexture\n\n\t\t\treturn {\n\t\t\t\tdata: Array.from( image.data ),\n\t\t\t\twidth: image.width,\n\t\t\t\theight: image.height,\n\t\t\t\ttype: image.data.constructor.name\n\t\t\t};\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'THREE.Texture: Unable to serialize Texture.' );\n\t\t\treturn {};\n\n\t\t}\n\n\t}\n\n}\n\nexport { Source };\n"],"mappings":"AAAA,SAASA,UAAT,QAA2B,yBAA3B;AACA,OAAO,KAAKC,SAAZ,MAA2B,sBAA3B;;AAEA,MAAMC,MAAN,CAAa;EAEZC,WAAW,GAAgB;IAAA,IAAdC,IAAc,uEAAP,IAAO;IAE1B,KAAKC,QAAL,GAAgB,IAAhB;IAEA,KAAKC,IAAL,GAAYL,SAAS,CAACM,YAAV,EAAZ;IAEA,KAAKH,IAAL,GAAYA,IAAZ;IAEA,KAAKI,OAAL,GAAe,CAAf;EAEA;;EAEc,IAAXC,WAAW,CAAEC,KAAF,EAAU;IAExB,IAAKA,KAAK,KAAK,IAAf,EAAsB,KAAKF,OAAL;EAEtB;;EAEDG,MAAM,CAAEC,IAAF,EAAS;IAEd,MAAMC,YAAY,GAAKD,IAAI,KAAKE,SAAT,IAAsB,OAAOF,IAAP,KAAgB,QAA7D;;IAEA,IAAK,CAAEC,YAAF,IAAkBD,IAAI,CAACG,MAAL,CAAa,KAAKT,IAAlB,MAA6BQ,SAApD,EAAgE;MAE/D,OAAOF,IAAI,CAACG,MAAL,CAAa,KAAKT,IAAlB,CAAP;IAEA;;IAED,MAAMU,MAAM,GAAG;MACdV,IAAI,EAAE,KAAKA,IADG;MAEdW,GAAG,EAAE;IAFS,CAAf;IAKA,MAAMb,IAAI,GAAG,KAAKA,IAAlB;;IAEA,IAAKA,IAAI,KAAK,IAAd,EAAqB;MAEpB,IAAIa,GAAJ;;MAEA,IAAKC,KAAK,CAACC,OAAN,CAAef,IAAf,CAAL,EAA6B;QAE5B;QAEAa,GAAG,GAAG,EAAN;;QAEA,KAAM,IAAIG,CAAC,GAAG,CAAR,EAAWC,CAAC,GAAGjB,IAAI,CAACkB,MAA1B,EAAkCF,CAAC,GAAGC,CAAtC,EAAyCD,CAAC,EAA1C,EAAgD;UAE/C,IAAKhB,IAAI,CAAEgB,CAAF,CAAJ,CAAUG,aAAf,EAA+B;YAE9BN,GAAG,CAACO,IAAJ,CAAUC,cAAc,CAAErB,IAAI,CAAEgB,CAAF,CAAJ,CAAUM,KAAZ,CAAxB;UAEA,CAJD,MAIO;YAENT,GAAG,CAACO,IAAJ,CAAUC,cAAc,CAAErB,IAAI,CAAEgB,CAAF,CAAN,CAAxB;UAEA;QAED;MAED,CApBD,MAoBO;QAEN;QAEAH,GAAG,GAAGQ,cAAc,CAAErB,IAAF,CAApB;MAEA;;MAEDY,MAAM,CAACC,GAAP,GAAaA,GAAb;IAEA;;IAED,IAAK,CAAEJ,YAAP,EAAsB;MAErBD,IAAI,CAACG,MAAL,CAAa,KAAKT,IAAlB,IAA2BU,MAA3B;IAEA;;IAED,OAAOA,MAAP;EAEA;;AAjFW;;AAqFb,SAASS,cAAT,CAAyBC,KAAzB,EAAiC;EAEhC,IAAO,OAAOC,gBAAP,KAA4B,WAA5B,IAA2CD,KAAK,YAAYC,gBAA9D,IACF,OAAOC,iBAAP,KAA6B,WAA7B,IAA4CF,KAAK,YAAYE,iBAD3D,IAEF,OAAOC,WAAP,KAAuB,WAAvB,IAAsCH,KAAK,YAAYG,WAF1D,EAE0E;IAEzE;IAEA,OAAO7B,UAAU,CAAC8B,UAAX,CAAuBJ,KAAvB,CAAP;EAEA,CARD,MAQO;IAEN,IAAKA,KAAK,CAACtB,IAAX,EAAkB;MAEjB;MAEA,OAAO;QACNA,IAAI,EAAEc,KAAK,CAACa,IAAN,CAAYL,KAAK,CAACtB,IAAlB,CADA;QAEN4B,KAAK,EAAEN,KAAK,CAACM,KAFP;QAGNC,MAAM,EAAEP,KAAK,CAACO,MAHR;QAINC,IAAI,EAAER,KAAK,CAACtB,IAAN,CAAWD,WAAX,CAAuBgC;MAJvB,CAAP;IAOA,CAXD,MAWO;MAENC,OAAO,CAACC,IAAR,CAAc,6CAAd;MACA,OAAO,EAAP;IAEA;EAED;AAED;;AAED,SAASnC,MAAT"},"metadata":{},"sourceType":"module"}