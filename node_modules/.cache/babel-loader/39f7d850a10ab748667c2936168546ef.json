{"ast":null,"code":"import { BufferGeometry, Float32BufferAttribute } from 'three';\nimport earcut from 'earcut';\nimport { geoDistance, geoInterpolate } from 'd3-geo';\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n\n  if (!it) {\n    if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function () {};\n\n      return {\n        s: F,\n        n: function () {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function (e) {\n          throw e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function () {\n      it = it.call(o);\n    },\n    n: function () {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function (e) {\n      didErr = true;\n      err = e;\n    },\n    f: function () {\n      try {\n        if (!normalCompletion && it.return != null) it.return();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\n\nvar interpolateLine = function interpolateLine() {\n  var lineCoords = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var maxDegDistance = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n  var result = [];\n  var prevPnt = null;\n  lineCoords.forEach(function (pnt) {\n    if (prevPnt) {\n      var dist = geoDistance(pnt, prevPnt) * 180 / Math.PI;\n\n      if (dist > maxDegDistance) {\n        var interpol = geoInterpolate(prevPnt, pnt);\n        var tStep = 1 / Math.ceil(dist / maxDegDistance);\n        var t = tStep;\n\n        while (t < 1) {\n          result.push(interpol(t));\n          t += tStep;\n        }\n      }\n    }\n\n    result.push(prevPnt = pnt);\n  });\n  return result;\n};\n\nvar THREE = typeof window !== 'undefined' && window.THREE ? window.THREE // Prefer consumption from global THREE, if exists\n: {\n  BufferGeometry: BufferGeometry,\n  Float32BufferAttribute: Float32BufferAttribute\n};\nvar setAttributeFn = new THREE.BufferGeometry().setAttribute ? 'setAttribute' : 'addAttribute';\n\nvar GeoJsonGeometry = /*#__PURE__*/function (_THREE$BufferGeometry) {\n  _inherits(GeoJsonGeometry, _THREE$BufferGeometry);\n\n  var _super = _createSuper(GeoJsonGeometry);\n\n  function GeoJsonGeometry(geoJson) {\n    var _this;\n\n    var radius = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n    var resolution = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 5;\n\n    _classCallCheck(this, GeoJsonGeometry);\n\n    _this = _super.call(this);\n    _this.type = 'GeoJsonGeometry';\n    _this.parameters = {\n      geoJson: geoJson,\n      radius: radius,\n      resolution: resolution\n    }; // process various geometry types\n\n    var groups = ({\n      Point: genPoint,\n      MultiPoint: genMultiPoint,\n      LineString: genLineString,\n      MultiLineString: genMultiLineString,\n      Polygon: genPolygon,\n      MultiPolygon: genMultiPolygon\n    }[geoJson.type] || function () {\n      return [];\n    })(geoJson.coordinates, radius); // concat groups\n\n\n    var indices = [],\n        vertices = [];\n    var groupCnt = 0;\n    groups.forEach(function (newG) {\n      var prevIndCnt = indices.length;\n      concatGroup({\n        indices: indices,\n        vertices: vertices\n      }, newG);\n\n      _this.addGroup(prevIndCnt, indices.length - prevIndCnt, groupCnt++);\n    }); // build geometry\n\n    indices.length && _this.setIndex(indices);\n    vertices.length && _this[setAttributeFn]('position', new THREE.Float32BufferAttribute(vertices, 3)); //\n\n    function genPoint(coords, r) {\n      var vertices = polar2Cartesian(coords[1], coords[0], r);\n      var indices = [];\n      return [{\n        vertices: vertices,\n        indices: indices\n      }];\n    }\n\n    function genMultiPoint(coords, r) {\n      var result = {\n        vertices: [],\n        indices: []\n      };\n      coords.map(function (c) {\n        return genPoint(c, r);\n      }).forEach(function (_ref) {\n        var _ref2 = _slicedToArray(_ref, 1),\n            newPnt = _ref2[0];\n\n        concatGroup(result, newPnt);\n      });\n      return [result];\n    }\n\n    function genLineString(coords, r) {\n      var coords3d = interpolateLine(coords, resolution).map(function (_ref3) {\n        var _ref4 = _slicedToArray(_ref3, 2),\n            lng = _ref4[0],\n            lat = _ref4[1];\n\n        return polar2Cartesian(lat, lng, r);\n      });\n\n      var _earcut$flatten = earcut.flatten([coords3d]),\n          vertices = _earcut$flatten.vertices;\n\n      var numPoints = Math.round(vertices.length / 3);\n      var indices = [];\n\n      for (var vIdx = 1; vIdx < numPoints; vIdx++) {\n        indices.push(vIdx - 1, vIdx);\n      }\n\n      return [{\n        vertices: vertices,\n        indices: indices\n      }];\n    }\n\n    function genMultiLineString(coords, r) {\n      var result = {\n        vertices: [],\n        indices: []\n      };\n      coords.map(function (c) {\n        return genLineString(c, r);\n      }).forEach(function (_ref5) {\n        var _ref6 = _slicedToArray(_ref5, 1),\n            newLine = _ref6[0];\n\n        concatGroup(result, newLine);\n      });\n      return [result];\n    }\n\n    function genPolygon(coords, r) {\n      var coords3d = coords.map(function (coordsSegment) {\n        return interpolateLine(coordsSegment, resolution).map(function (_ref7) {\n          var _ref8 = _slicedToArray(_ref7, 2),\n              lng = _ref8[0],\n              lat = _ref8[1];\n\n          return polar2Cartesian(lat, lng, r);\n        });\n      }); // Each point generates 3 vertice items (x,y,z).\n\n      var _earcut$flatten2 = earcut.flatten(coords3d),\n          vertices = _earcut$flatten2.vertices,\n          holes = _earcut$flatten2.holes;\n\n      var firstHoleIdx = holes[0] || Infinity;\n      var outerVertices = vertices.slice(0, firstHoleIdx * 3);\n      var holeVertices = vertices.slice(firstHoleIdx * 3);\n      var holesIdx = new Set(holes);\n      var numPoints = Math.round(vertices.length / 3);\n      var outerIndices = [],\n          holeIndices = [];\n\n      for (var vIdx = 1; vIdx < numPoints; vIdx++) {\n        if (!holesIdx.has(vIdx)) {\n          if (vIdx < firstHoleIdx) {\n            outerIndices.push(vIdx - 1, vIdx);\n          } else {\n            holeIndices.push(vIdx - 1 - firstHoleIdx, vIdx - firstHoleIdx);\n          }\n        }\n      }\n\n      var groups = [{\n        indices: outerIndices,\n        vertices: outerVertices\n      }];\n\n      if (holes.length) {\n        groups.push({\n          indices: holeIndices,\n          vertices: holeVertices\n        });\n      }\n\n      return groups;\n    }\n\n    function genMultiPolygon(coords, r) {\n      var outer = {\n        vertices: [],\n        indices: []\n      };\n      var holes = {\n        vertices: [],\n        indices: []\n      };\n      coords.map(function (c) {\n        return genPolygon(c, r);\n      }).forEach(function (_ref9) {\n        var _ref10 = _slicedToArray(_ref9, 2),\n            newOuter = _ref10[0],\n            newHoles = _ref10[1];\n\n        concatGroup(outer, newOuter);\n        newHoles && concatGroup(holes, newHoles);\n      });\n      var groups = [outer];\n      holes.vertices.length && groups.push(holes);\n      return groups;\n    }\n\n    return _this;\n  }\n\n  return GeoJsonGeometry;\n}(THREE.BufferGeometry); //\n\n\nfunction concatGroup(main, extra) {\n  var prevVertCnt = Math.round(main.vertices.length / 3);\n  concatArr(main.vertices, extra.vertices);\n  concatArr(main.indices, extra.indices.map(function (ind) {\n    return ind + prevVertCnt;\n  }));\n}\n\nfunction concatArr(target, src) {\n  var _iterator = _createForOfIteratorHelper(src),\n      _step;\n\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var e = _step.value;\n      target.push(e);\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n}\n\nfunction polar2Cartesian(lat, lng) {\n  var r = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n  var phi = (90 - lat) * Math.PI / 180;\n  var theta = (90 - lng) * Math.PI / 180;\n  return [r * Math.sin(phi) * Math.cos(theta), // x\n  r * Math.cos(phi), // y\n  r * Math.sin(phi) * Math.sin(theta) // z\n  ];\n}\n\nexport { GeoJsonGeometry };","map":{"version":3,"names":["BufferGeometry","Float32BufferAttribute","earcut","geoDistance","geoInterpolate","_classCallCheck","instance","Constructor","TypeError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","writable","configurable","_setPrototypeOf","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","p","_isNativeReflectConstruct","Reflect","construct","sham","Proxy","Boolean","valueOf","call","e","_assertThisInitialized","self","ReferenceError","_possibleConstructorReturn","_createSuper","Derived","hasNativeReflectConstruct","_createSuperInternal","Super","result","NewTarget","arguments","apply","_slicedToArray","arr","i","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","Array","isArray","_i","Symbol","iterator","_arr","_n","_d","_s","_e","next","done","push","length","err","minLen","_arrayLikeToArray","n","toString","slice","name","from","test","len","arr2","_createForOfIteratorHelper","allowArrayLike","it","F","s","f","normalCompletion","didErr","step","return","interpolateLine","lineCoords","undefined","maxDegDistance","prevPnt","forEach","pnt","dist","Math","PI","interpol","tStep","ceil","t","THREE","window","setAttributeFn","setAttribute","GeoJsonGeometry","_THREE$BufferGeometry","_super","geoJson","_this","radius","resolution","type","parameters","groups","Point","genPoint","MultiPoint","genMultiPoint","LineString","genLineString","MultiLineString","genMultiLineString","Polygon","genPolygon","MultiPolygon","genMultiPolygon","coordinates","indices","vertices","groupCnt","newG","prevIndCnt","concatGroup","addGroup","setIndex","coords","r","polar2Cartesian","map","c","_ref","_ref2","newPnt","coords3d","_ref3","_ref4","lng","lat","_earcut$flatten","flatten","numPoints","round","vIdx","_ref5","_ref6","newLine","coordsSegment","_ref7","_ref8","_earcut$flatten2","holes","firstHoleIdx","Infinity","outerVertices","holeVertices","holesIdx","Set","outerIndices","holeIndices","has","outer","_ref9","_ref10","newOuter","newHoles","main","extra","prevVertCnt","concatArr","ind","target","src","_iterator","_step","phi","theta","sin","cos"],"sources":["/Users/ludvigbergsaker/Documents/Notify/notify_custom/notify_custom/node_modules/three-geojson-geometry/dist/three-geojson-geometry.module.js"],"sourcesContent":["import { BufferGeometry, Float32BufferAttribute } from 'three';\nimport earcut from 'earcut';\nimport { geoDistance, geoInterpolate } from 'd3-geo';\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n\n  if (!it) {\n    if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function () {};\n\n      return {\n        s: F,\n        n: function () {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function (e) {\n          throw e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function () {\n      it = it.call(o);\n    },\n    n: function () {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function (e) {\n      didErr = true;\n      err = e;\n    },\n    f: function () {\n      try {\n        if (!normalCompletion && it.return != null) it.return();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\n\nvar interpolateLine = function interpolateLine() {\n  var lineCoords = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var maxDegDistance = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n  var result = [];\n  var prevPnt = null;\n  lineCoords.forEach(function (pnt) {\n    if (prevPnt) {\n      var dist = geoDistance(pnt, prevPnt) * 180 / Math.PI;\n\n      if (dist > maxDegDistance) {\n        var interpol = geoInterpolate(prevPnt, pnt);\n        var tStep = 1 / Math.ceil(dist / maxDegDistance);\n        var t = tStep;\n\n        while (t < 1) {\n          result.push(interpol(t));\n          t += tStep;\n        }\n      }\n    }\n\n    result.push(prevPnt = pnt);\n  });\n  return result;\n};\n\nvar THREE = typeof window !== 'undefined' && window.THREE ? window.THREE // Prefer consumption from global THREE, if exists\n: {\n  BufferGeometry: BufferGeometry,\n  Float32BufferAttribute: Float32BufferAttribute\n};\n\nvar setAttributeFn = new THREE.BufferGeometry().setAttribute ? 'setAttribute' : 'addAttribute';\n\nvar GeoJsonGeometry = /*#__PURE__*/function (_THREE$BufferGeometry) {\n  _inherits(GeoJsonGeometry, _THREE$BufferGeometry);\n\n  var _super = _createSuper(GeoJsonGeometry);\n\n  function GeoJsonGeometry(geoJson) {\n    var _this;\n\n    var radius = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n    var resolution = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 5;\n\n    _classCallCheck(this, GeoJsonGeometry);\n\n    _this = _super.call(this);\n    _this.type = 'GeoJsonGeometry';\n    _this.parameters = {\n      geoJson: geoJson,\n      radius: radius,\n      resolution: resolution\n    }; // process various geometry types\n\n    var groups = ({\n      Point: genPoint,\n      MultiPoint: genMultiPoint,\n      LineString: genLineString,\n      MultiLineString: genMultiLineString,\n      Polygon: genPolygon,\n      MultiPolygon: genMultiPolygon\n    }[geoJson.type] || function () {\n      return [];\n    })(geoJson.coordinates, radius); // concat groups\n\n\n    var indices = [],\n        vertices = [];\n    var groupCnt = 0;\n    groups.forEach(function (newG) {\n      var prevIndCnt = indices.length;\n      concatGroup({\n        indices: indices,\n        vertices: vertices\n      }, newG);\n\n      _this.addGroup(prevIndCnt, indices.length - prevIndCnt, groupCnt++);\n    }); // build geometry\n\n    indices.length && _this.setIndex(indices);\n    vertices.length && _this[setAttributeFn]('position', new THREE.Float32BufferAttribute(vertices, 3)); //\n\n    function genPoint(coords, r) {\n      var vertices = polar2Cartesian(coords[1], coords[0], r);\n      var indices = [];\n      return [{\n        vertices: vertices,\n        indices: indices\n      }];\n    }\n\n    function genMultiPoint(coords, r) {\n      var result = {\n        vertices: [],\n        indices: []\n      };\n      coords.map(function (c) {\n        return genPoint(c, r);\n      }).forEach(function (_ref) {\n        var _ref2 = _slicedToArray(_ref, 1),\n            newPnt = _ref2[0];\n\n        concatGroup(result, newPnt);\n      });\n      return [result];\n    }\n\n    function genLineString(coords, r) {\n      var coords3d = interpolateLine(coords, resolution).map(function (_ref3) {\n        var _ref4 = _slicedToArray(_ref3, 2),\n            lng = _ref4[0],\n            lat = _ref4[1];\n\n        return polar2Cartesian(lat, lng, r);\n      });\n\n      var _earcut$flatten = earcut.flatten([coords3d]),\n          vertices = _earcut$flatten.vertices;\n\n      var numPoints = Math.round(vertices.length / 3);\n      var indices = [];\n\n      for (var vIdx = 1; vIdx < numPoints; vIdx++) {\n        indices.push(vIdx - 1, vIdx);\n      }\n\n      return [{\n        vertices: vertices,\n        indices: indices\n      }];\n    }\n\n    function genMultiLineString(coords, r) {\n      var result = {\n        vertices: [],\n        indices: []\n      };\n      coords.map(function (c) {\n        return genLineString(c, r);\n      }).forEach(function (_ref5) {\n        var _ref6 = _slicedToArray(_ref5, 1),\n            newLine = _ref6[0];\n\n        concatGroup(result, newLine);\n      });\n      return [result];\n    }\n\n    function genPolygon(coords, r) {\n      var coords3d = coords.map(function (coordsSegment) {\n        return interpolateLine(coordsSegment, resolution).map(function (_ref7) {\n          var _ref8 = _slicedToArray(_ref7, 2),\n              lng = _ref8[0],\n              lat = _ref8[1];\n\n          return polar2Cartesian(lat, lng, r);\n        });\n      }); // Each point generates 3 vertice items (x,y,z).\n\n      var _earcut$flatten2 = earcut.flatten(coords3d),\n          vertices = _earcut$flatten2.vertices,\n          holes = _earcut$flatten2.holes;\n\n      var firstHoleIdx = holes[0] || Infinity;\n      var outerVertices = vertices.slice(0, firstHoleIdx * 3);\n      var holeVertices = vertices.slice(firstHoleIdx * 3);\n      var holesIdx = new Set(holes);\n      var numPoints = Math.round(vertices.length / 3);\n      var outerIndices = [],\n          holeIndices = [];\n\n      for (var vIdx = 1; vIdx < numPoints; vIdx++) {\n        if (!holesIdx.has(vIdx)) {\n          if (vIdx < firstHoleIdx) {\n            outerIndices.push(vIdx - 1, vIdx);\n          } else {\n            holeIndices.push(vIdx - 1 - firstHoleIdx, vIdx - firstHoleIdx);\n          }\n        }\n      }\n\n      var groups = [{\n        indices: outerIndices,\n        vertices: outerVertices\n      }];\n\n      if (holes.length) {\n        groups.push({\n          indices: holeIndices,\n          vertices: holeVertices\n        });\n      }\n\n      return groups;\n    }\n\n    function genMultiPolygon(coords, r) {\n      var outer = {\n        vertices: [],\n        indices: []\n      };\n      var holes = {\n        vertices: [],\n        indices: []\n      };\n      coords.map(function (c) {\n        return genPolygon(c, r);\n      }).forEach(function (_ref9) {\n        var _ref10 = _slicedToArray(_ref9, 2),\n            newOuter = _ref10[0],\n            newHoles = _ref10[1];\n\n        concatGroup(outer, newOuter);\n        newHoles && concatGroup(holes, newHoles);\n      });\n      var groups = [outer];\n      holes.vertices.length && groups.push(holes);\n      return groups;\n    }\n\n    return _this;\n  }\n\n  return GeoJsonGeometry;\n}(THREE.BufferGeometry); //\n\n\nfunction concatGroup(main, extra) {\n  var prevVertCnt = Math.round(main.vertices.length / 3);\n  concatArr(main.vertices, extra.vertices);\n  concatArr(main.indices, extra.indices.map(function (ind) {\n    return ind + prevVertCnt;\n  }));\n}\n\nfunction concatArr(target, src) {\n  var _iterator = _createForOfIteratorHelper(src),\n      _step;\n\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var e = _step.value;\n      target.push(e);\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n}\n\nfunction polar2Cartesian(lat, lng) {\n  var r = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n  var phi = (90 - lat) * Math.PI / 180;\n  var theta = (90 - lng) * Math.PI / 180;\n  return [r * Math.sin(phi) * Math.cos(theta), // x\n  r * Math.cos(phi), // y\n  r * Math.sin(phi) * Math.sin(theta) // z\n  ];\n}\n\nexport { GeoJsonGeometry };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}