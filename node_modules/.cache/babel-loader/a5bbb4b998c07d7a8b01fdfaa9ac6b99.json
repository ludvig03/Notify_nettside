{"ast":null,"code":"import _objectSpread from \"/Users/ludvigbergsaker/Documents/Notify/notify_custom/notify_custom/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _objectWithoutProperties from \"/Users/ludvigbergsaker/Documents/Notify/notify_custom/notify_custom/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";\nvar _excluded = [\"unsuspend\", \"start\", \"crossOrigin\", \"muted\", \"loop\"];\nimport * as THREE from 'three';\nimport { useEffect } from 'react';\nimport { useThree } from '@react-three/fiber';\nimport { suspend } from 'suspend-react';\n\nfunction useVideoTexture(src, props) {\n  var _unsuspend$crossOrigi = _objectSpread({\n    unsuspend: 'canplay',\n    crossOrigin: 'Anonymous',\n    muted: true,\n    loop: true,\n    start: true\n  }, props),\n      unsuspend = _unsuspend$crossOrigi.unsuspend,\n      start = _unsuspend$crossOrigi.start,\n      crossOrigin = _unsuspend$crossOrigi.crossOrigin,\n      muted = _unsuspend$crossOrigi.muted,\n      loop = _unsuspend$crossOrigi.loop,\n      rest = _objectWithoutProperties(_unsuspend$crossOrigi, _excluded);\n\n  var gl = useThree(function (state) {\n    return state.gl;\n  });\n  var texture = suspend(function () {\n    return new Promise(function (res, rej) {\n      var video = Object.assign(document.createElement('video'), _objectSpread({\n        src: src,\n        crossOrigin: crossOrigin,\n        loop: loop,\n        muted: muted\n      }, rest));\n      var texture = new THREE.VideoTexture(video);\n      texture.encoding = gl.outputEncoding;\n      video.addEventListener(unsuspend, function () {\n        return res(texture);\n      });\n    });\n  }, [src]);\n  useEffect(function () {\n    return void (start && texture.image.play());\n  }, [texture]);\n  return texture;\n}\n\nexport { useVideoTexture };","map":{"version":3,"names":["THREE","useEffect","useThree","suspend","useVideoTexture","src","props","unsuspend","crossOrigin","muted","loop","start","rest","gl","state","texture","Promise","res","rej","video","Object","assign","document","createElement","VideoTexture","encoding","outputEncoding","addEventListener","image","play"],"sources":["/Users/ludvigbergsaker/Documents/Notify/notify_custom/notify_custom/node_modules/@react-three/drei/core/useVideoTexture.js"],"sourcesContent":["import * as THREE from 'three';\nimport { useEffect } from 'react';\nimport { useThree } from '@react-three/fiber';\nimport { suspend } from 'suspend-react';\n\nfunction useVideoTexture(src, props) {\n  const {\n    unsuspend,\n    start,\n    crossOrigin,\n    muted,\n    loop,\n    ...rest\n  } = {\n    unsuspend: 'canplay',\n    crossOrigin: 'Anonymous',\n    muted: true,\n    loop: true,\n    start: true,\n    ...props\n  };\n  const gl = useThree(state => state.gl);\n  const texture = suspend(() => new Promise((res, rej) => {\n    const video = Object.assign(document.createElement('video'), {\n      src,\n      crossOrigin,\n      loop,\n      muted,\n      ...rest\n    });\n    const texture = new THREE.VideoTexture(video);\n    texture.encoding = gl.outputEncoding;\n    video.addEventListener(unsuspend, () => res(texture));\n  }), [src]);\n  useEffect(() => void (start && texture.image.play()), [texture]);\n  return texture;\n}\n\nexport { useVideoTexture };\n"],"mappings":";;;AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,SAASC,SAAT,QAA0B,OAA1B;AACA,SAASC,QAAT,QAAyB,oBAAzB;AACA,SAASC,OAAT,QAAwB,eAAxB;;AAEA,SAASC,eAAT,CAAyBC,GAAzB,EAA8BC,KAA9B,EAAqC;EACnC;IAQEC,SAAS,EAAE,SARb;IASEC,WAAW,EAAE,WATf;IAUEC,KAAK,EAAE,IAVT;IAWEC,IAAI,EAAE,IAXR;IAYEC,KAAK,EAAE;EAZT,GAaKL,KAbL;EAAA,IACEC,SADF,yBACEA,SADF;EAAA,IAEEI,KAFF,yBAEEA,KAFF;EAAA,IAGEH,WAHF,yBAGEA,WAHF;EAAA,IAIEC,KAJF,yBAIEA,KAJF;EAAA,IAKEC,IALF,yBAKEA,IALF;EAAA,IAMKE,IANL;;EAeA,IAAMC,EAAE,GAAGX,QAAQ,CAAC,UAAAY,KAAK;IAAA,OAAIA,KAAK,CAACD,EAAV;EAAA,CAAN,CAAnB;EACA,IAAME,OAAO,GAAGZ,OAAO,CAAC;IAAA,OAAM,IAAIa,OAAJ,CAAY,UAACC,GAAD,EAAMC,GAAN,EAAc;MACtD,IAAMC,KAAK,GAAGC,MAAM,CAACC,MAAP,CAAcC,QAAQ,CAACC,aAAT,CAAuB,OAAvB,CAAd;QACZlB,GAAG,EAAHA,GADY;QAEZG,WAAW,EAAXA,WAFY;QAGZE,IAAI,EAAJA,IAHY;QAIZD,KAAK,EAALA;MAJY,GAKTG,IALS,EAAd;MAOA,IAAMG,OAAO,GAAG,IAAIf,KAAK,CAACwB,YAAV,CAAuBL,KAAvB,CAAhB;MACAJ,OAAO,CAACU,QAAR,GAAmBZ,EAAE,CAACa,cAAtB;MACAP,KAAK,CAACQ,gBAAN,CAAuBpB,SAAvB,EAAkC;QAAA,OAAMU,GAAG,CAACF,OAAD,CAAT;MAAA,CAAlC;IACD,CAX6B,CAAN;EAAA,CAAD,EAWnB,CAACV,GAAD,CAXmB,CAAvB;EAYAJ,SAAS,CAAC;IAAA,OAAM,MAAMU,KAAK,IAAII,OAAO,CAACa,KAAR,CAAcC,IAAd,EAAf,CAAN;EAAA,CAAD,EAA6C,CAACd,OAAD,CAA7C,CAAT;EACA,OAAOA,OAAP;AACD;;AAED,SAASX,eAAT"},"metadata":{},"sourceType":"module"}